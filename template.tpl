___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Supreme Tracking Event Core",
  "brand": {
    "id": "brand_dummy",
    "displayName": "SupremeTracking.io",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Official tag for sending Server-Side events via SupremeTracking.io nodes. It acts as the central engine for your tracking strategy, featuring built-in integrations for Meta CAPI (with automatic deduplication) and Google Ads Conversions.",
  "containerContexts": [
    "WEB"
  ],
  "categories": [
  "ADVERTISING",
  "ANALYTICS",
  "CONVERSIONS"
]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "trackingDomain",
    "displayName": "Tracking Domain",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "help": "Insert the domain where your Supreme Tracking installation is.",
    "valueHint": "ex: tracking.yoursite.com"
  },
  {
    "type": "TEXT",
    "name": "ingestToken",
    "displayName": "Ingest Token",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "gaMeasurementId",
    "displayName": "GA4 Measurement ID (to match the id of the session)",
    "simpleValueType": true
  },
  {
    "type": "SELECT",
    "name": "eventName",
    "displayName": "Selecionar Evento",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "page_view",
        "displayValue": "Visualização de Página (Page View)"
      },
      {
        "value": "view_item",
        "displayValue": "Visualizar Produto/Conteúdo (View Content)"
      },
      {
        "value": "add_to_cart",
        "displayValue": "Adicionar ao Carrinho (Add To Cart)"
      },
      {
        "value": "initiate_checkout",
        "displayValue": "Iniciar Checkout (Initiate Checkout)"
      },
      {
        "value": "add_payment_info",
        "displayValue": "Adicionar Info. Pagamento (Add Payment Info)"
      },
      {
        "value": "purchase",
        "displayValue": "Compra (Purchase)"
      },
      {
        "value": "lead",
        "displayValue": "Gerar Lead (Lead)"
      },
      {
        "value": "complete_registration",
        "displayValue": "Cadastro Completo (Complete Registration)"
      },
      {
        "value": "contact",
        "displayValue": "Contato (Contact)"
      },
      {
        "value": "schedule",
        "displayValue": "Agendamento (Schedule)"
      },
      {
        "value": "search",
        "displayValue": "Busca (Search)"
      },
      {
        "value": "custom",
        "displayValue": "⚡ Outro / Personalizado"
      }
    ],
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "defaultValue": "page_view"
  },
  {
    "type": "TEXT",
    "name": "customEventName",
    "displayName": "Nome do Evento Personalizado",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "eventName",
        "paramValue": "custom",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "eventId",
    "displayName": "Event ID",
    "simpleValueType": true,
    "help": "Leave blank to automatically generate a unique ID for Server/Browser deduplication. Use a custom value only if synchronizing with an external pixel tag."
  },
  {
    "type": "CHECKBOX",
    "name": "sendBrowser",
    "checkboxText": "Also send via browser (Meta Pixel)",
    "simpleValueType": true,
    "help": "Check to send the event via browser (Meta Pixel) alongside the server event. This ensures automatic deduplication. Note: If you prefer using a separate tag for the browser event, you MUST input the same Event ID in the field above to prevent double counting."
  },
  {
    "type": "CHECKBOX",
    "name": "sendGoogleAds",
    "checkboxText": "Send Conversion to Google Ads?",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "conversionId",
    "displayName": "Google Ads Conversion ID",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "sendGoogleAds",
        "paramValue": true,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "conversionLabel",
    "displayName": "Google Ads Conversion Label",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "sendGoogleAds",
        "paramValue": true,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "customerInformation",
    "displayName": "Dados do usuário",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": []
  },
  {
    "type": "PARAM_TABLE",
    "name": "paramTable1",
    "displayName": "Parametros",
    "paramTableColumns": [
      {
        "param": {
          "type": "SELECT",
          "name": "userParameter",
          "displayName": "",
          "macrosInSelect": false,
          "selectItems": [
            {
              "value": "first_name",
              "displayValue": "First Name"
            },
            {
              "value": "last_name",
              "displayValue": "Last Name"
            },
            {
              "value": "phone",
              "displayValue": "Phone"
            },
            {
              "value": "email",
              "displayValue": "Email"
            },
            {
              "value": "city",
              "displayValue": "City"
            },
            {
              "value": "state",
              "displayValue": "State"
            },
            {
              "value": "zip",
              "displayValue": "Zip Code"
            },
            {
              "value": "country",
              "displayValue": "Country"
            }
          ],
          "simpleValueType": true
        },
        "isUnique": false
      },
      {
        "param": {
          "type": "TEXT",
          "name": "userParameterValue",
          "displayName": "",
          "simpleValueType": true
        },
        "isUnique": false
      }
    ]
  },
  {
    "type": "CHECKBOX",
    "name": "commomParams",
    "checkboxText": "Auto-capture common params",
    "simpleValueType": true
  },
  {
    "type": "GROUP",
    "name": "customParams",
    "displayName": "Custom Parameters",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "PARAM_TABLE",
        "name": "paramTable2",
        "displayName": "Custom Params Table",
        "paramTableColumns": [
          {
            "param": {
              "type": "TEXT",
              "name": "text1",
              "displayName": "Key",
              "simpleValueType": true
            },
            "isUnique": true
          },
          {
            "param": {
              "type": "TEXT",
              "name": "text2",
              "displayName": "Value",
              "simpleValueType": true
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "CHECKBOX",
              "name": "omit_if_empty",
              "checkboxText": "Omit if empty?",
              "simpleValueType": true
            },
            "isUnique": false
          }
        ]
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ecommerceBlock",
    "displayName": "",
    "groupStyle": "NO_ZIPPY",
    "subParams": [
      {
        "type": "TEXT",
        "name": "currency",
        "displayName": "Moeda (currency)",
        "simpleValueType": true,
        "valueHint": "BRL",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "value",
        "displayName": "Valor (value)",
        "simpleValueType": true,
        "valueHint": "97.54",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "SIMPLE_TABLE",
        "name": "itemsTable",
        "displayName": "Itens (items)",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Item ID",
            "name": "item_id",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Item Name",
            "name": "item_name",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Price",
            "name": "price",
            "type": "TEXT",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "defaultValue": 1,
            "displayName": "Quantity",
            "name": "quantity",
            "type": "TEXT",
            "valueValidators": [
              {
                "type": "POSITIVE_NUMBER"
              }
            ]
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "eventName",
        "paramValue": "initiate_checkout",
        "type": "EQUALS"
      },
      {
        "paramName": "eventName",
        "paramValue": "purchase",
        "type": "EQUALS"
      },
      {
        "paramName": "eventName",
        "paramValue": "add_to_cart",
        "type": "EQUALS"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___
const log = require('logToConsole');
const getCookieValues = require('getCookieValues');
const getTimestampMillis = require('getTimestampMillis');
const generateRandom = require('generateRandom');
const copyFromWindow = require('copyFromWindow');
const JSON = require('JSON');
const callInWindow = require('callInWindow');
const getUrl = require('getUrl');
const getType = require('getType');
// API Nativa do GA4 (Síncrona)
const readAnalyticsStorage = require('readAnalyticsStorage');

// --- CONFIG ---

const token = data.ingestToken;
const eventName = (data.eventName === 'custom') ? data.customEventName : data.eventName;
const url = 'https://' + encodeURI(data.trackingDomain) + '/public/ingest.php';

// --- HELPERS ---
const generateUUID = () => {
  const rnd = generateRandom(100000000, 999999999); 
  const time = getTimestampMillis();
  return 'evt_' + time + '_' + rnd;
};

// 1. Polling Condicional (Facebook)
const queryParams = getUrl('query') || '';
const hasFbclid = (queryParams.indexOf('fbclid=') > -1);

// 2. Prepara User Params Básicos
let userParams = {};

// Dados da Tabela Manual (Se houver)
if (data.paramTable1) {
  data.paramTable1.forEach(row => {
    if (row.userParameter && row.userParameterValue) {
      userParams[row.userParameter] = row.userParameterValue;
    }
  });
}

// Cookies Facebook (Fallback)
const fbpArr = getCookieValues('_fbp');
const fbcArr = getCookieValues('_fbc');
if (fbpArr && fbpArr.length) userParams.fbp = fbpArr[0];
if (fbcArr && fbcArr.length) userParams.fbc = fbcArr[0];

// --- CAPTURA: STUID (Via Cookie) ---
// Lê o cookie 'stuid' OU 'bpuid'
const stuidC = getCookieValues('stuid');
let foundStuid = null;

if (stuidC && stuidC.length) foundStuid = stuidC[0];

if (foundStuid) {
    userParams.stuid = foundStuid;
}

// --- CAPTURA: GA4 IDs (API Oficial Síncrona) ---
// Tenta ler do storage nativo do GA4 diretamente
const gaData = readAnalyticsStorage();

if (gaData.client_id) {
 userParams.ga_client_id = gaData.client_id;
 
}

// session_id depende do Measurement ID escolhido
const targetMeasurementId = data.gaMeasurementId;

if (
  targetMeasurementId &&
  gaData.sessions &&
  gaData.sessions.length
) {
  let matchedSession = null;

  for (let i = 0; i < gaData.sessions.length; i++) {
    const s = gaData.sessions[i];
    if (s.measurement_id === targetMeasurementId) {
      matchedSession = s;
      break;
    }
  }

  if (matchedSession && matchedSession.session_id) {
    userParams.ga_session_id = matchedSession.session_id;
  }
}

// 3. Monta Event Params
let eventParams = {};
if (data.paramTable2) {
  data.paramTable2.forEach(row => {
    if (row.text1) {
       if (row.omit_if_empty && !row.text2) return;
       eventParams[row.text1] = row.text2;
    }
  });
}
if (data.value) eventParams.value = data.value;
if (data.currency) eventParams.currency = data.currency;
if (data.itemsTable && data.itemsTable.length) {
  eventParams.items = data.itemsTable.map(item => ({
      item_id: item.item_id,
      item_name: item.item_name,
      price: item.price,
      quantity: item.quantity
  }));
}

// --- PREPARA EVENT ID (CRUCIAL PARA DEDUPLICAÇÃO) ---
// Definimos aqui para usar o MESMO ID no Server e no Browser
const finalEventId = data.eventId || generateUUID();

// 4. ENVIO (Supreme Send - Server Side)
const payload = {
  token: token,
  gads_conversion: data.sendGoogleAds, // <--- NOVA FLAG ADICIONADA AQUI
  context: {
    // Mapeia stuid para bpuid no backend para compatibilidade
    stuid: userParams.stuid, 
    timestamp_ms: getTimestampMillis(),
    page: { url: getUrl() },
    user: userParams
  },
  events: [{
    id: finalEventId, // Usa o ID gerado ou fornecido
    name: eventName,
    data: { params: eventParams }
  }]
};

const config = {
  url: url,
  payload: payload,
  waitForFbc: hasFbclid,
  onSuccess: data.gtmOnSuccess,
  onFailure: data.gtmOnFailure
};

callInWindow('supremeSend', config);

// ==================================================================
// 5. ENVIO META PIXEL (BROWSER SIDE - CONDICIONAL)
// ==================================================================

if (data.sendBrowser) {
    
    // Mapa de Eventos GA4 -> Meta Standard Events
    const metaEventMap = {
        'page_view': 'PageView',
        'purchase': 'Purchase',
        'add_to_cart': 'AddToCart',
        'initiate_checkout': 'InitiateCheckout',
        'view_item': 'ViewContent',
        'add_payment_info': 'AddPaymentInfo',
        'add_to_wishlist': 'AddToWishlist',
        'refund': 'PurchaseRefund',
        'lead': 'Lead',
        'complete_registration': 'CompleteRegistration',
        'submit_application': 'SubmitApplication',
        'subscribe': 'Subscribe',
        'start_trial': 'StartTrial',
        'contact': 'Contact',
        'search': 'Search',
        'find_location': 'FindLocation',
        'schedule': 'Schedule',
        'donate': 'Donate',
        'customize_product': 'CustomizeProduct'
    };

    // Determina o nome do evento no Facebook
    const fbEventName = metaEventMap[eventName] || eventName;
    
    // Verifica se é evento padrão ou customizado
    // Se estiver no mapa, é 'track'. Se não (ex: 'generate_lead_custom'), é 'trackCustom'.
    const fbTrackType = metaEventMap[eventName] ? 'track' : 'trackCustom';

    // Monta o objeto de dados específico para o Facebook
    // O Facebook não aceita qualquer parâmetro arbitrário em eventos Standard.
    // Abaixo filtramos e transformamos os dados para o formato aceito.
    let metaData = {};

    // 1. Value e Currency (Obrigatórios para Purchase)
    if (eventParams.value !== undefined) metaData.value = eventParams.value;
    if (eventParams.currency) metaData.currency = eventParams.currency;

    // 2. Tratamento de Items -> content_ids
    if (eventParams.items && getType(eventParams.items) === 'array') {
        const contentIds = eventParams.items.map(item => item.item_id).filter(id => id !== undefined);
        if (contentIds.length > 0) {
            metaData.content_ids = contentIds;
            // Assume product se houver items, a menos que especificado
            metaData.content_type = eventParams.content_type || 'product';
            
            // Opcional: num_items (soma das quantidades)
            /* let totalQty = 0;
            eventParams.items.forEach(i => totalQty += (Number(i.quantity) || 1));
            metaData.num_items = totalQty;
            */
        }
    }

    // 3. Search String
    if (eventParams.search_term) {
        metaData.search_string = eventParams.search_term;
    }
    
    // 4. Content Name (Mapeado de items ou passado direto)
    if (eventParams.content_name) {
        metaData.content_name = eventParams.content_name;
    } else if (eventParams.items && eventParams.items.length === 1 && eventParams.items[0].item_name) {
        // Se for apenas 1 item, usamos o nome dele como content_name (comum em ViewContent)
        metaData.content_name = eventParams.items[0].item_name;
    }

    // 5. Parâmetros Customizados
    // Se o usuário passou parâmetros extras na Tabela 2 que não são padrão,
    // podemos misturá-los, mas com cuidado. Para eventos 'trackCustom', tudo passa.
    // Para 'track' (Standard), o FB ignora parâmetros desconhecidos, então é seguro enviar.
    for (let key in eventParams) {
        // Ignora chaves que já tratamos ou que são exclusivas do GA4
        if (key !== 'items' && key !== 'value' && key !== 'currency' && key !== 'search_term') {
            if (!metaData[key]) {
                metaData[key] = eventParams[key];
            }
        }
    }

    // --- DISPARO BROWSER ---
    // Estrutura: fbq('track', 'EventName', {params}, {eventID: '...'})
    // O quarto argumento (options) é onde vai o eventID para deduplicação correta.
    
    callInWindow('fbq', fbTrackType, fbEventName, metaData, { eventID: finalEventId });
}

// ==================================================================
// 6. ENVIO GOOGLE ADS (CONVERSION - CONDICIONAL)
// ==================================================================


if (data.sendGoogleAds) {
    // Verifica se os IDs essenciais estão presentes
    if (data.conversionId && data.conversionLabel) {
        
        // 1. Tratamento Inteligente do ID (Evita duplo AW-)
        let cleanId = data.conversionId.trim(); // Remove espaços acidentais
        
        // Verifica se já começa com 'AW-'. Se não, adiciona.
        // (Usamos indexOf em vez de startsWith para máxima compatibilidade no GTM)
        if (cleanId.indexOf('AW-') !== 0) {
            cleanId = 'AW-' + cleanId;
        }

        // Monta o destino (send_to)
        const sendToValue = cleanId + '/' + data.conversionLabel;
        
        // 2. Inicia o Payload
        let gAdsPayload = {
            'send_to': sendToValue
        };

        // 3. Preenche Valor e Moeda (Reutiliza as variáveis já tratadas)
        if (eventParams.value) {
            gAdsPayload.value = eventParams.value;
        }
        
        if (eventParams.currency) {
            gAdsPayload.currency = eventParams.currency;
        }

        // 4. Transaction ID
        const gTransactionId = eventParams.transaction_id || finalEventId;
        
        if (gTransactionId) {
            gAdsPayload.transaction_id = gTransactionId;
        }
        
        if (gTransactionId) {
            gAdsPayload.transaction_id = gTransactionId;
        }

        // 5. Dados do Usuário (Enhanced Conversions)
        if (data.gaUserProvidedData) {
            gAdsPayload.user_data = data.gaUserProvidedData;
        } else {
            // <--- INICIO DA LÓGICA DE CAPTURA AUTOMÁTICA (ENHANCED CONVERSIONS) --->
            // Mapeia o que já foi capturado em userParams para o formato do Google Ads
            let autoUserData = {};
            
            if (userParams.email) autoUserData.email = userParams.email;
            if (userParams.phone) autoUserData.phone_number = userParams.phone;
            
            let addressInfo = {};
            // Mapeamento dos campos da Tabela ParamTable1 para Google Ads Address
            if (userParams.first_name) addressInfo.first_name = userParams.first_name;
            if (userParams.last_name) addressInfo.last_name = userParams.last_name;
            if (userParams.city) addressInfo.city = userParams.city;
            if (userParams.state) addressInfo.region = userParams.state;
            if (userParams.zip) addressInfo.postal_code = userParams.zip;
            if (userParams.country) addressInfo.country = userParams.country;
            
            // Só adiciona o objeto address se tiver ao menos um campo preenchido
            if (addressInfo.first_name || addressInfo.last_name || addressInfo.city || addressInfo.region || addressInfo.postal_code || addressInfo.country) {
                autoUserData.address = addressInfo;
            }
            
            if (autoUserData.email || autoUserData.phone_number || autoUserData.address) {
                gAdsPayload.user_data = autoUserData;
            }
            // <--- FIM DA LÓGICA DE CAPTURA AUTOMÁTICA --->
        }

        // 6. Dispara o evento de conversão
        callInWindow('gtag', 'event', 'conversion', gAdsPayload);
    }
}

___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "supremeSend"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "fbq"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "gtag"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_url",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_analytics_storage",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 23/12/2025, 00:11:25


